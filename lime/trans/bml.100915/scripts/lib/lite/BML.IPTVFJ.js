if(typeof(BML)=="undefined"){throw ("BML.js not loaded yet")}var browser=(typeof(browser)!="undefined")?browser:{};BML.Util.extend(browser,(function(){function epgTune(serviceRef){if(typeof(epgTune.caller)!="function"){BML.Builder.eventHandler.onunload=""}throw ("[!]epgTune called("+serviceRef+"): skip all javascript process")}function readPersistentArray(filename,structure){return([20,false])}function transmitTextDataOverIP(url,text,charset){charset=charset||"EUC-JP";var ajax=new BML.Ajax(url,((text===null)||BML.Util.isUndefined(text))?{overrideMimeType:"text/plane; charset="+charset,asynchronous:false,method:"GET"}:{overrideMimeType:"text/plane; charset="+charset,asynchronous:false,method:"POST",parameters:{Denbun:text}});var httpStatusCode=ajax.response.statusCode;if((httpStatusCode<200)||(httpStatusCode>=300)){if(httpStatusCode==400){return([-1,httpStatusCode,""])}else{if(httpStatusCode==408){return([-3,httpStatusCode,""])}else{if(httpStatusCode!==0){return([NaN,httpStatusCode,""])}}}}return([1,200,ajax.response.responseText])}function getActiveDocument(){var uri=BML.uri;return((uri.path||"/")+uri.file+((uri.query!=="")?"?"+uri.query:"")+((uri.fragment!=="")?"#"+uri.fragment:""))}function lockScreen(){}function unlockScreen(){}function launchDocument(url,style){if(url===""){return(NaN)}var loader=BML.loaderUri;url=loader.host+loader.path+loader.file+"?"+BML.Util.combinePath(url,BML.uri);location.href=url;return(1)}function playRomSound(soundID){}function setInterval(func,ms,repeat){ms=Math.max(100,Math.floor((ms+99)/100)*100);if(repeat===0){repeat=-1}var timer=window.setInterval(function(){eval(func);if((repeat>0)&&(--repeat===0)){window.clearInterval(timer)}},ms);return(timer)}function clearTimer(id){if(!isNaN(id)){window.clearInterval(id)}}function random(num){return(1+Math.floor(Math.random()*num))}function addDate(base,time,unit){var t=base.getTime();if(unit===0){t+=time}else{if(unit==1){t+=time*1000}else{if(unit==2){t+=time*1000*60}else{if(unit==3){t+=time*1000*60*60}else{if(unit==4){t+=time*1000*60*60*24}else{if(unit==5){t+=time*1000*60*60*24*7}}}}}}var ret=new Date;ret.setTime(t);return(ret)}function subDate(target,base,unit){var diff=target.getTime()-base.getTime();if(unit==1){diff=Math.floor(diff/1000)}else{if(unit==2){diff=Math.floor(diff/(1000*60))}else{if(unit==3){diff=Math.floor(diff/(1000*60*60))}else{if(unit==4){diff=Math.floor(diff/(1000*60*60*24))}else{if(unit==5){diff=Math.floor(diff/(1000*60*60*24*7))}}}}}return(diff)}function formatNumber(value){value=String(value);var len=value.length;if(len<3){return(value)}var odd=len%3,buf=[];if(odd>0){buf.push(value.substring(0,odd))}for(var i=odd;i<len;i+=3){buf.push(value.substring(i,i+3))}return(buf.join(","))}function getIPTVLicense(drmSystem,id,licenseId){return(1)}function getDRMID(str){return("1234567890abcdef")}function getDocManagementStat(){return(1)}function checkIPTVServiceRegistrationInfo(id){return([12345678,0,"license"])}function getIRDID(type){return("1234567890abcdef")}return({epgTune:epgTune,readPersistentArray:readPersistentArray,transmitTextDataOverIP:transmitTextDataOverIP,getActiveDocument:getActiveDocument,lockScreen:lockScreen,unlockScreen:unlockScreen,launchDocument:launchDocument,playRomSound:playRomSound,setInterval:setInterval,clearTimer:clearTimer,random:random,addDate:addDate,subDate:subDate,formatNumber:formatNumber,getIPTVLicense:getIPTVLicense,getDRMID:getDRMID,getDocManagementStat:getDocManagementStat,checkIPTVServiceRegistrationInfo:checkIPTVServiceRegistrationInfo,getIRDID:getIRDID})})());