var BML=(typeof(BML)=="undefined")?{}:BML;var _bml_start_time_=(typeof(_bml_start_time_)=="undefined")?(new Date).getTime():_bml_start_time_;(function(c,b){for(var a in b){c[a]=b[a]}})(BML,{uri:{},loaderUri:{},version:null,config:{usableFontMap:{´Ý¥´¥·¥Ã¥¯:"ARISAKA-ÅùÉý",ÂÀ´Ý¥´¥·¥Ã¥¯:"ARISAKA-ÅùÉý",³Ñ´Ý¥´¥·¥Ã¥¯:"ARISAKA-ÅùÉý"},prefixScriptIncPath:["../scripts/prefix.js"],suffixScriptIncPath:["../scripts/suffix.js"],debug:true}});(function(){BML.Bevent={entry:function(a){},clear:function(){},execEvent:function(a){}}})();BML.Util=(function(){var g=/^(?:(https?:\/\/[^\/]+)?(\/?(?:[^\/\?]*\/)*))?((?:([^\?\#]*)\.([^\.\?\#]*))|([^\?\#\.]*))?(?:\?([^\#]*))?(?:#(.*))?/;var t=Array.prototype.slice;var q=!!(window.attachEvent&&(navigator.userAgent.indexOf("opera")===-1));var A=Object.prototype.toString.call(window.opera)=="[object Opera]";var y=navigator.userAgent.indexOf("AppleWebKit/")>-1;var p=!(c(window.HTMLSpanElement));var s={};function C(E){return(Object.prototype.toString.call(E).match(/^\[object\s(.*)\]$/)[1])}function v(G){var E=this.length,F=G.length;while(F--){this[E+F]=G[F]}return(this)}function n(){}function h(E){return(E)}function m(E){return(C(E)=="Array")}function b(E){return(typeof(E)=="function")}function c(E){return(typeof(E)=="undefined")}function w(F,E){for(k in E){F[k]=E[k]}return(F)}function D(G){if((arguments.length<2)&&c(arguments[0])){return(this)}var E=this,F=t.call(arguments,1);return(function(){var H=v.call(t.call(F,0),arguments);return(E.apply(G,H))})}function r(H,G){var E=this,F=t.call(arguments,2);return(window.setTimeout(function(){return(E.apply(G||null,F))},H*1000))}function d(H,G){G=G||this;try{for(var F=0,E=this.length;F<E;F++){H.call(G,this[F],F)}}catch(I){if(I!=s){throw (I)}}return(this)}function x(G,F){F=F||this;try{for(var E in this){G.call(F,E,this[E])}}catch(H){if(H!=s){throw (H)}}return(this)}function o(F){if(!F){return({})}var G=F;F=F.replace(/\\/g,"/");var E=g.exec(F);return(E?{full:F,host:E[1]||"",path:E[2]||"",file:E[3]||"",name:E[4]||E[6]||"",ext:E[5]||"",query:decodeURIComponent(E[7]||""),fragment:E[8]||""}:{full:F})}function u(H,K){if(H.indexOf("http")>=0){return(H)}var J=K.host+K.path+H;J=J.split("/");var F=[];for(var G=0,E=J.length;G<E;G++){var I=J[G];((I=="..")&&(F.length>0))?F.pop():F.push(I)}return(F.join("/"))}function j(J,I,E){var G="";J=String(J);I=I||" ";for(var H=J.length,F=E||2;H<F;H++){G+=I}return(G+J)}function a(G,F,E){return(j(Number(G).toString(16),"0")+j(Number(F).toString(16),"0")+j(Number(E).toString(16),"0"))}function i(E){return(E.charAt(0).toUpperCase()+E.substring(1).toLowerCase())}function B(J){var I=J.split("-");if(I.length<=1){return(J)}var G=String(I[0]).toLowerCase();for(var H=1,E=I.length;H<E;H++){var F=String(I[H]);if(!F){continue}F=F.toLowerCase();G+=F.charAt(0).toUpperCase()+F.substring(1)}return(G)}function z(G){var F="";for(var E in G){F+="["+E+":"+G[E]+"] "}return(F)}function f(H,F){var G=H.style[F];if(!G||(G=="auto")){var E=H.currentStyle||document.defaultView.getComputedStyle(H,null);G=E?E[F]:null}return((G=="auto")?null:G)}return({$break:s,isIE:q,isOpera:A,isSafari:y,emptyFunction:n,K:h,isArray:m,isFunction:b,isUndefined:c,extend:w,bind:D,wait:r,each:d,hashEach:x,parseURI:o,combinePath:u,toPaddedString:j,toColorCode:a,capitalize:i,camelize:B,hashToString:z,getStyle:f,supportSpecificHTMLElement:p})})();(function(){String.prototype._charCodeAt_=String.prototype.charCodeAt;String._fromCharCode_=String.fromCharCode;function b(g){var d=String.prototype.charCodeAt;String.prototype.charCodeAt=String.prototype._charCodeAt_;var f=EscapeEUCJP(g);String.prototype.charCodeAt=d;return(f)}function a(g){var d=String.fromCharCode;String.fromCharCode=String._fromCharCode_;var f=UnescapeEUCJP(g);String.fromCharCode=d;return(f)}String.prototype.charCodeAt=function(f){var d=this.charAt(f);return(/[\*+.-9A-Z_a-z-]/.test(d)?d._charCodeAt_(0):parseInt(b(d).replace(/%/g,""),16))};String.fromCharCode=function(){var h="";for(var o=0,f=arguments.length;o<f;o++){var p=Number(arguments[o]).toString(16);if(p.length%2){p="0"+p}for(var g=0,d=p.length;g<d;g+=2){h+="%"+p.substring(g,g+2)}}return(a(h))};var c=BML.Util.toPaddedString;Date.prototype._toString_=Date.prototype.toString;Date.prototype.toString=function(){return(this.getFullYear()+"-"+c(this.getMonth()+1,"0")+"-"+c(this.getDate(),"0")+"T"+c(this.getHours(),"0")+":"+c(this.getMinutes(),"0")+":"+c(this.getSeconds(),"0"))};Date.prototype.toLocalString=Date.prototype.toString;Date.prototype.toUTCString=Date.prototype.toString;Function.prototype._toString_=Function.prototype.toString;Function.prototype.toString=function(){var d=Function.prototype._toString_.call(this);d=d.replace(/\{[^\}]*?\}/,"{}");return(d)}})();BML.Ajax=(function(){var EVENTS=["Uninitialized","Loading","Loaded","Interactive","Complete"];var util=BML.Util;function toQueryPair(k,v){return(util.isUndefined(v)?k:k+"="+encodeURIComponent(v===null?"":v))}function getTransport(){var transport=["XMLHttpRequest()","ActiveXObject('Msxml2.XMLHTTP')","ActiveXObject('Microsoft.XMLHTTP')"];for(var i=0,l=transport.length;i<l;i++){try{return(eval("new "+transport[i]))}catch(e){}}return(null)}var Ajax=function(url,options){this._complete=false;this._url="";this._options=util.extend({method:"POST",asynchronous:true,contentType:"application/x-www-form-urlencoded",overrideMimeType:"",encoding:"UTF-8",parameters:{},postBody:""},options||{});this._method=this._options.method.toUpperCase()||"POST";this.transport=getTransport();this.response=null;if(url){this.request(url)}};Ajax.prototype.request=function(url){if(!url){return}this._url=url;this.response=null;var accessUrl=url;var query="";var body=null;var p=[],params=this._options.parameters||{},val;for(var key in params){val=params[key];key=encodeURIComponent(key);if(!BML.Util.isArray(val)){util.each.call(val,function(v){p.push(toQueryPair(key,v))})}else{p.push(toQueryPair(key,val))}}query=p.join("&");if((this._method=="GET")&&(query.length>0)){accessUrl+=((url.indexOf("?")>0)?"&":"?")+query}else{if(/Konqueror|Safari|KHTML/.test(navigator.userAgent)){query+="&_="}body=this._options.postBody||query}try{var transport=this.transport;if(this._options.overrideMimeType&&transport.overrideMimeType){transport.overrideMimeType(this._options.overrideMimeType)}transport.open(this._method,accessUrl,this._options.asynchronous);if(this._options.asynchronous){util.wait.call(this._respondToReadyState,0.01,this,1)}var headers=this._getRequestHeaders();for(key in headers){transport.setRequestHeader(key,headers[key])}transport.onreadystatechange=util.bind.call(this._onStateChange,this);transport.send(body);if(!this._options.asynchronous&&transport.overrideMimeType){this._onStateChange()}}catch(e){this._dispatchException(e)}};Ajax.prototype._onStateChange=function(){var readyState=this.transport.readyState;if((readyState>1)&&((readyState!=4)||!this._complete)){this._respondToReadyState(readyState)}};Ajax.prototype._respondToReadyState=function(readyState){var state=EVENTS[readyState];var response=new Response(this);try{(this._options["on"+state]||util.emptyFunction)(response)}catch(e){this.dispatchException(e)}if(state=="Complete"){try{this._complete=true;(this._options["on"+response.statusCode]||this._options["on"+(this.isSuccess()?"Success":"Failure")]||util.emptyFunction)(response)}catch(e){this.dispatchException(e)}this.transport.onreadystatechange=util.emptyFunction;BML.Debug("[Ajax]:"+this._url+" ->["+(this.isSuccess()?"OK":"NG")+"]")}this.response=response};Ajax.prototype.isSuccess=function(){var status=this._getHttpStatusCode();return(!status||((status>=200)&&(status<300)))};Ajax.prototype._getRequestHeaders=function(){var headers={"X-Requested-With":"XMLHttpRequest",Accept:"text/javascript, text/html, application/xml, text/xml, */*"};if(this._method=="POST"){headers["Content-type"]=this._options.contentType+(this._options.encoding?"; charset="+this._options.encoding:"");if(this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005){headers.Connection="close"}}return(headers)};Ajax.prototype._getHttpStatusCode=function(){try{return(this.transport.status||0)}catch(e){return(0)}};Ajax.prototype._dispatchException=function(e){(this._options.onError||util.emptyFunction)(this,e)};var Response=function(request){this.statusCode=0;this.statusText="";this.responseText="";this.responseXML=null;var transport=request.transport;var readyState=transport.readyState;if(((readyState>2)&&!util.isIE)||(readyState==4)){var f=function(){try{return(transport.statusText)}catch(e){}return("")};this.statusCode=Ajax.prototype._getHttpStatusCode.call(request);this.statusText=f();this.responseText=(transport.responseText===null)?"":transport.responseText}if(readyState==4){var xml=transport.responseXML;this.responseXML=util.isUndefined(xml)?null:xml}};return(Ajax)})();BML.Debug=(function(){var i=_bml_start_time_;delete (_bml_start_time_);var d=null;var p=null;var a=20;var s=[];var g=0;var f=false;var n=false;var b={debug:false,info:true,warn:true,error:true};function c(){if(d){return}var x=document.getElementsByTagName("body");if(x.length>0){p=document.createElement("div");p.setAttribute("id","_bml_debug_bgplane_");d=document.createElement("div");d.setAttribute("id","_bml_debug_plane_");x[0].appendChild(p);x[0].appendChild(d);q(f);document.addEventListener("keydown",function(y){if(y.keyCode==27){q(!f);y.cancelBubble=true}},false);h()}else{if(!n){window.addEventListener("load",arguments.callee,false);n=true}}}function u(){s=[];g=0;h()}function m(y,x){b[y]=x||false}function v(){return(i)}function q(x){f=x;if(d){p.style.visibility=d.style.visibility=f?"visible":"hidden"}h()}function w(y,x){return(BML.Util.toPaddedString(y,"&#160;",x))}function t(y,x){return(BML.Util.toPaddedString(y," ",x))}function h(){if(d&&f){d.innerHTML=(BML.config.debug)?s.join("<br/>\n"):""}}function o(x){return(String(x||"").replace(/[&\"<>]/g,function(y){return{"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"}[y]}))}function r(z,y){y=y||"debug";var x=(new Date).getTime();if(!BML.Util.isUndefined(window.console)&&!BML.Util.isUndefined(window.console[y])){window.console[y]("["+t(g++,4)+"]("+t(x-i,8)+"ms)"+z)}if(b[y]){z=o(z);s.push('<span class="_bml_debug_'+y+'_">['+w(g++,4)+"]("+w(x-i,8)+"ms)"+z+"</span>");if(s.length>a){s.shift()}h()}}function j(x){r(x,"debug")}BML.Util.extend(j,{initialize:c,show:function(){q(true)},hide:function(){q(false)},reset:u,setDebugLevel:m,getLoadStartTime:v,debug:j,info:function(x){r(x,"info")},warning:function(x){r(x,"warn")},error:function(x){r(x,"error")}});return(j)})();BML.Clut=(function(){var b=[[0,0,0,255,1,"000000"],[255,0,0,255,1,"ff0000"],[0,255,0,255,1,"00ff00"],[255,255,0,255,1,"ffff00"],[0,0,255,255,1,"0000ff"],[255,0,255,255,1,"ff00ff"],[0,255,255,255,1,"00ffff"],[255,255,255,255,1,"ffffff"],[0,0,0,0,0,"000000"],[170,0,0,255,1,"aa0000"],[0,170,0,255,1,"00aa00"],[170,170,0,255,1,"aaaa00"],[0,0,170,255,1,"0000aa"],[170,0,170,255,1,"aa00aa"],[0,170,170,255,1,"00aaaa"],[170,170,170,255,1,"aaaaaa"],[0,0,85,255,1,"000055"],[0,85,0,255,1,"005500"],[0,85,85,255,1,"005555"],[0,85,170,255,1,"0055aa"],[0,85,255,255,1,"0055ff"],[0,170,85,255,1,"00aa55"],[0,170,255,255,1,"00aaff"],[0,255,85,255,1,"00ff55"],[0,255,170,255,1,"00ffaa"],[85,0,0,255,1,"550000"],[85,0,85,255,1,"550055"],[85,0,170,255,1,"5500aa"],[85,0,255,255,1,"5500ff"],[85,85,0,255,1,"555500"],[85,85,85,255,1,"555555"],[85,85,170,255,1,"5555aa"],[85,85,255,255,1,"5555ff"],[85,170,0,255,1,"55aa00"],[85,170,85,255,1,"55aa55"],[85,170,170,255,1,"55aaaa"],[85,170,255,255,1,"55aaff"],[85,255,0,255,1,"55ff00"],[85,255,85,255,1,"55ff55"],[85,255,170,255,1,"55ffaa"],[85,255,255,255,1,"55ffff"],[170,0,85,255,1,"aa0055"],[170,0,255,255,1,"aa00ff"],[170,85,0,255,1,"aa5500"],[170,85,85,255,1,"aa5555"],[170,85,170,255,1,"aa55aa"],[170,85,255,255,1,"aa55ff"],[170,170,85,255,1,"aaaa55"],[170,170,255,255,1,"aaaaff"],[170,255,0,255,1,"aaff00"],[170,255,85,255,1,"aaff55"],[170,255,170,255,1,"aaffaa"],[170,255,255,255,1,"aaffff"],[255,0,85,255,1,"ff0055"],[255,0,170,255,1,"ff00aa"],[255,85,0,255,1,"ff5500"],[255,85,85,255,1,"ff5555"],[255,85,170,255,1,"ff55aa"],[255,85,255,255,1,"ff55ff"],[255,170,0,255,1,"ffaa00"],[255,170,85,255,1,"ffaa55"],[255,170,170,255,1,"ffaaaa"],[255,170,255,255,1,"ffaaff"],[255,255,85,255,1,"ffff55"],[255,255,170,255,1,"ffffaa"],[0,0,0,128,0.5,"000000"],[255,0,0,128,0.5,"ff0000"],[0,255,0,128,0.5,"00ff00"],[255,255,0,128,0.5,"ffff00"],[0,0,255,128,0.5,"0000ff"],[255,0,255,128,0.5,"ff00ff"],[0,255,255,128,0.5,"00ffff"],[255,255,255,128,0.5,"ffffff"],[170,0,0,128,0.5,"aa0000"],[0,170,0,128,0.5,"00aa00"],[170,170,0,128,0.5,"aaaa00"],[0,0,170,128,0.5,"0000aa"],[170,0,170,128,0.5,"aa00aa"],[0,170,170,128,0.5,"00aaaa"],[170,170,170,128,0.5,"aaaaaa"],[0,0,85,128,0.5,"000055"],[0,85,0,128,0.5,"005500"],[0,85,85,128,0.5,"005555"],[0,85,170,128,0.5,"0055aa"],[0,85,255,128,0.5,"0055ff"],[0,170,85,128,0.5,"00aa55"],[0,170,255,128,0.5,"00aaff"],[0,255,85,128,0.5,"00ff55"],[0,255,170,128,0.5,"00ffaa"],[85,0,0,128,0.5,"550000"],[85,0,85,128,0.5,"550055"],[85,0,170,128,0.5,"5500aa"],[85,0,255,128,0.5,"5500ff"],[85,85,0,128,0.5,"555500"],[85,85,85,128,0.5,"555555"],[85,85,170,128,0.5,"5555aa"],[85,85,255,128,0.5,"5555ff"],[85,170,0,128,0.5,"55aa00"],[85,170,85,128,0.5,"55aa55"],[85,170,170,128,0.5,"55aaaa"],[85,170,255,128,0.5,"55aaff"],[85,255,0,128,0.5,"55ff00"],[85,255,85,128,0.5,"55ff55"],[85,255,170,128,0.5,"55ffaa"],[85,255,255,128,0.5,"55ffff"],[170,0,85,128,0.5,"aa0055"],[170,0,255,128,0.5,"aa00ff"],[170,85,0,128,0.5,"aa5500"],[170,85,85,128,0.5,"aa5555"],[170,85,170,128,0.5,"aa55aa"],[170,85,255,128,0.5,"aa55ff"],[170,170,85,128,0.5,"aaaa55"],[170,170,255,128,0.5,"aaaaff"],[170,255,0,128,0.5,"aaff00"],[170,255,85,128,0.5,"aaff55"],[170,255,170,128,0.5,"aaffaa"],[170,255,255,128,0.5,"aaffff"],[255,0,85,128,0.5,"ff0055"],[255,0,170,128,0.5,"ff00aa"],[255,85,0,128,0.5,"ff5500"],[255,85,85,128,0.5,"ff5555"],[255,85,170,128,0.5,"ff55aa"],[255,85,255,128,0.5,"ff55ff"],[255,170,0,128,0.5,"ffaa00"],[255,170,85,128,0.5,"ffaa55"],[255,170,170,128,0.5,"ffaaaa"],[255,170,255,128,0.5,"ffaaff"],[255,255,85,128,0.5,"ffff55"]];var f={};function d(h){return(Math.round(h*100/255)/100)}function a(h){return(BML.Util.toPaddedString(Number(h).toString(16),"0"))}function g(i){return(BML.Util.toPaddedString(i,"0"))}var c=BML.Util.toColorCode;BML.Util.each.call(b,function(j,h){var i=(j[5]+a(j[3])).toLowerCase();if(!f[i]){f[i]=h}});return({load:function(p,z){BML.CSS.bmlStyle.clut=z||p;p=BML.Util.combinePath(p,BML.uri);var s=new BML.Ajax(p,{overrideMimeType:"text/plain; charset=x-user-defined",asynchronous:false,method:"GET"});if(s.response.statusCode!=200){throw ("[FileNotFound] :"+p)}var u=[];var m=s.response.responseText;for(var x=0,w=m.length;x<w;x++){u[x]=m._charCodeAt_(x)&255}var o=u.shift();var D=u.shift();var C=u.shift();while(D<=C){var q=u.shift();var v=u.shift();var n=u.shift();var t=Math.floor(1.164*(q-16)+1.596*(n-128));var A=Math.floor(1.164*(q-16)-0.391*(v-128)-0.813*(n-128));var B=Math.floor(1.164*(q-16)+2.018*(v-128));t=Math.max(0,Math.min(255,t));A=Math.max(0,Math.min(255,A));B=Math.max(0,Math.min(255,B));var h=c(t,A,B);var j=u.shift();b[D]=[t,A,B,j,d(j),h];f[h+j]=D++}},getRGB:function(h){return(((h<0)||(h>=b.length))?null:(function(){var i=b[h];return({r:i[0],g:i[1],b:i[2],a:i[3],opacity:i[4],code:i[5]})})())},colorToIdx:function(o,n,i,j){var m=a(o)+a(n)+a(i)+a(Math.floor(j*255));var h=f[m.toLowerCase()];return((h>=0)?h:-1)}})})();BML.CSS=(function(){var m={resolution:"960x540",displayAspectRatio:"16v9",usedKeyList:"basic data-button",clut:null};var c={};var p={};function j(t){m.displayAspectRatio=t}function f(t,u){if(!p[t]){p[t]={}}BML.Util.extend(p[t],u||{})}function a(t,u){if(!c[t]){c[t]={}}BML.Util.extend(c[t],u||{})}function b(u){var t={};BML.Util.extend(t,p.all||{});BML.Util.extend(t,p[u.nodeName]||{});return(t)}function h(u){var t={};BML.Util.extend(t,c.all||{});BML.Util.extend(t,c[u.nodeName]||{});return(t)}var i=BML.Util.getStyle;var n=BML.Util.supportSpecificHTMLElement;var s=n?[HTMLDivElement,HTMLSpanElement,HTMLParagraphElement,HTMLBRElement,HTMLAnchorElement,HTMLInputElement,HTMLObjectElement,HTMLBodyElement]:[HTMLElement];var r=n?[HTMLDivElement,HTMLSpanElement,HTMLParagraphElement,HTMLAnchorElement,HTMLInputElement,HTMLObjectElement]:[HTMLElement];var g=new RegExp("(:?left|top|width|height|visibility|fontFamily|fontSize|fontWeight|colorIndex|backgroundColorIndex|borderTopColorIndex|borderRightColorIndex|borderLeftColorIndex|borderBottomColorIndex|grayscaleColorIndex)");var o=new RegExp("(:?borderStyle|borderWidth)");function d(t){this.element=t;this.tagName=t.tagName.toLowerCase()}BML.Util.hashEach.call({paddingTop:/(?:div|p|input|object)/,paddingBottom:/(?:div|p|input|object)/,paddingLeft:/(?:div|p|input|object)/,paddingRight:/(?:div|p|input|object)/,borderWidth:/(?:div|p|span|a|input|object)/,borderStyle:/(?:div|p|span|a|input|object)/,lineHeight:/(?:p|br|span|a|input)/,textAlign:/(?:p|input)/,letterSpacing:/(?:p|span|a|input)/},function(t,u){d.prototype.__defineGetter__(t,function(){return(u.test(this.tagName)?i(this.element,t):"")})});BML.Util.hashEach.call({left:/(?:div|p|input|object)/,top:/(?:div|p|input|object)/,width:/(?:div|p|input|object)/,height:/(?:div|p|input|object)/,visibility:/(?:div|p|span|a|input|object|body)/,fontFamily:/(?:p|span|a|input)/,fontSize:/(?:p|span|a|input)/,fontWeight:/(?:p|span|a|input)/},function(t,u){d.prototype.__defineGetter__(t,function(){return(u.test(this.tagName)?i(this.element,t):"")});d.prototype.__defineSetter__(t,function(v){if(u.test(this.tagName)){this.element.style[t]=v}})});BML.Util.each.call(["navUp","navDown","navLeft","navRight","navIndex"],function(t){d.prototype.__defineGetter__(t,function(){return(/(?:div|p|span|a|input|object)/.test(this.tagName)?this.element._navigation[t.substring(3).toLowerCase()]:"")})});BML.Util.each.call(["clut","resolution","displayAspectRatio"],function(t){d.prototype.__defineGetter__(t,function(){return(/body/.test(this.tagName)?BML.CSS.bmlStyle[t]:null)})});d.prototype.__defineGetter__("usedKeyList",function(){return(/body/.test(this.tagName)?BML.CSS.bmlStyle.usedKeyList:null)});d.prototype.__defineSetter__("usedKeyList",function(t){if(/body/.test(this.tagName)){BML.Navigation.setUsedKeyList(t)}});BML.Util.hashEach.call({colorIndex:["color",/(?:p|span|a|input)/],backgroundColorIndex:["backgroundColor",/(?:div|p|span|a|input|object|body)/],borderTopColorIndex:["borderTopColor",/(?:div|p|span|a|input)/],borderRightColorIndex:["borderRightColor",/(?:div|p|span|a|input)/],borderLeftColorIndex:["borderLeftColor",/(?:div|p|span|a|input)/],borderBottomColorIndex:["borderBottomColor",/(?:div|p|span|a|input)/]},function(t,u){d.prototype.__defineGetter__(t,function(){if(!u[1].test(this.tagName)){return("")}var z=0,y=0,v=0,x=0;var w=i(this.element,u[0]);if(/transparent/){z=0;y=0;v=0;x=0}else{if(/rgb\((\d+)[^\d]+(\d+)[^\d]+(\d+)(?:[^\d]+(\d+))?\)/.test(w)){z=RegExp.$1;y=RegExp.$2;v=RegExp.$3;x=(RegExp.$4)?RegExp.$4:(i(this.element,"opacity")||0)}}return(Number(BML.Clut.colorToIdx(z,y,v,x)))});d.prototype.__defineSetter__(t,function(w){if(!u[1].test(this.tagName)){return}var v=BML.Clut.getRGB(w);if(!v){v={code:"000000",opacity:1}}if((v.code==="000000")&&(v.opacity===0)){this.element.style[u[0]]="";this.element.style.opacity=""}else{this.element.style[u[0]]="#"+v.code;this.element.style.opacity=v.opacity}})});d.prototype.__defineGetter__("grayscaleColorIndex",function(){return(/(?:p|span|a|input)/.test(this.tagName)?"30 15":"")});d.prototype.__defineSetter__("grayscaleColorIndex",function(t){});function q(u,t){this.element=u;this.tagName=u.tagName.toLowerCase();this.isFocusStyle=t;this.style=null;this.prevStyle=null}q.prototype.getStyle=function(){var t=this.isFocusStyle?this.element._focusStyleObj:this.element._activeStyleObj;if(!t.style){t.style=this.isFocusStyle?BML.CSS.getFocusStyle(this.element):BML.CSS.getActiveStyle(this.element)}return(t.style)};BML.Util.hashEach.call({left:/(?:div|p|input|object)/,top:/(?:div|p|input|object)/,width:/(?:div|p|input|object)/,height:/(?:div|p|input|object)/,visibility:/(?:div|p|span|a|input|object|body)/,fontFamily:/(?:p|span|a|input)/,fontSize:/(?:p|span|a|input)/,fontWeight:/(?:p|span|a|input)/},function(t,u){q.prototype.__defineGetter__(t,function(){return(u.test(this.tagName)?this.getStyle()[t]:"")});q.prototype.__defineSetter__(t,function(v){if(u.test(this.tagName)){this.getStyle()[t]=v}})});BML.Util.hashEach.call({colorIndex:/(?:p|span|a|input)/,backgroundColorIndex:/(?:div|p|span|a|input|object|body)/,borderTopColorIndex:/(?:div|p|span|a|input)/,borderRightColorIndex:/(?:div|p|span|a|input)/,borderLeftColorIndex:/(?:div|p|span|a|input)/,borderBottomColorIndex:/(?:div|p|span|a|input)/},function(t,u){q.prototype.__defineGetter__(t,function(){if(!u.test(this.tagName)){return(8)}var v=this.getStyle()[t];return(BML.Util.isUndefined(v)?8:Number(v))});q.prototype.__defineSetter__(t,function(v){if(!u.test(this.tagName)){return}this.getStyle()[t]=v})});q.prototype.__defineGetter__("grayscaleColorIndex",function(){return(/(?:p|span|a|input)/.test(this.tagName)?"30 15":"")});q.prototype.__defineSetter__("grayscaleColorIndex",function(t){});BML.Util.each.call(s,function(u){try{u.prototype.__defineGetter__("normalStyle",function(){if(!this._normalStyleObj){this._normalStyleObj=new d(this)}return(this._normalStyleObj)})}catch(t){BML.Debug.error(t)}});BML.Util.each.call(r,function(u){try{u.prototype.__defineGetter__("focusStyle",function(){if(!this._focusStyleObj){this._focusStyleObj=new q(this,true)}return(this._focusStyleObj)});u.prototype.__defineGetter__("activeStyle",function(){if(!this._activeStyleObj){this._activeStyleObj=new q(this,false)}return(this._activeStyleObj)});u.prototype.setFocusStyle=function(){var w=this.focusStyle.getStyle(),x={};for(var v in w){if(g.test(v)){x[v]=this.normalStyle[v];this.normalStyle[v]=w[v]}else{if(o.test(v)){x[v]=this.normalStyle[v];this.style[v]=w[v]}}}this._focusStyleObj.prevStyle=x};u.prototype.unsetFocusStyle=function(){var w=this.focusStyle.prevStyle||{};for(var v in w){if(g.test(v)){this.normalStyle[v]=w[v]}else{if(o.test(v)){this.style[v]=w[v]}}}this._focusStyleObj.prevStyle=null};u.prototype.setActiveStyle=function(){var w=this.activeStyle.getStyle(),x={};for(var v in w){if(g.test(v)){x[v]=this.normalStyle[v];this.normalStyle[v]=w[v]}else{if(o.test(v)){x[v]=this.normalStyle[v];this.style[v]=w[v]}}}this._activeStyleObj.prevStyle=x};u.prototype.unsetActiveStyle=function(){var w=this.activeStyle.prevStyle||{};for(var v in w){if(g.test(v)){this.normalStyle[v]=w[v]}else{if(o.test(v)){this.style[v]=w[v]}}}this._activeStyleObj.prevStyle=null}}catch(t){BML.Debug.error(t)}});return({bmlStyle:m,setActiveStyle:a,setFocusStyle:f,getActiveStyle:h,getFocusStyle:b,setAspectRatio:j})})();BML.Navigation=(function(){var p={UP:1,DOWN:2,LEFT:3,RIGHT:4,0:5,1:6,2:7,3:8,4:9,5:10,6:11,7:12,8:13,9:14,10:15,11:16,12:17,ENTER:18,BACK:19,DBUTTON:20,BLUE:21,RED:22,GREEN:23,YELLOW:24};var o={};for(var G in p){o[p[G]]=G}var c={X:p.BACK,B:p.BLUE,R:p.RED,G:p.GREEN,Y:p.YELLOW};var B={basic:[p.UP,p.DOWN,p.LEFT,p.RIGHT,p.ENTER,p.BACK],"data-button":[p.BLUE,p.RED,p.GREEN,p.YELLOW,p.DBUTTON],"numeric-tuning":[p[0],p[1],p[2],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12]],"other-tuning":[],"special-1":[],"special-2":[],"special-3":[],"special-4":[],misc:[]};var F={38:p.UP,40:p.DOWN,37:p.LEFT,39:p.RIGHT,48:p[0],49:p[1],50:p[2],51:p[3],52:p[4],53:p[5],54:p[6],55:p[7],56:p[8],57:p[9],109:p[10],222:p[11],220:p[12],13:p.ENTER,46:p.BACK,68:p.DBUTTON,66:p.BLUE,82:p.RED,71:p.GREEN,89:p.YELLOW};var r=BML.Util.supportSpecificHTMLElement;var u=r?[HTMLDivElement,HTMLSpanElement,HTMLParagraphElement,HTMLAnchorElement,HTMLInputElement,HTMLObjectElement]:[HTMLElement];var s=r?[HTMLDivElement,HTMLSpanElement,HTMLParagraphElement,HTMLAnchorElement,HTMLInputElement,HTMLObjectElement]:[HTMLElement];var f=[];var z={};var h=[];var v={};var b=null;var w="";var n="";var g=[];var D=false;function a(){document.currentFocus=null;document.currentEvent={type:{}.undefined,target:null};var J,I,H;for(H=0,l=f.length;H<l;H++){J=f[H];if(J){break}}if(!J&&(h.length>0)){J=h[0]}if(!J&&(z.length>0)){I=[];for(H in z){I.push(H)}I=I.sort();J=z[I[0]]}if(J){J.focus()}}function C(H){H=H||"basic  data-button";BML.CSS.bmlStyle.usedKeyList=H;v={};BML.Util.each.call(H.split(/\s+/),function(I){BML.Util.each.call(B[I]||[],function(J){v[J]=1})})}function m(){document.addEventListener("keydown",t,true);document.addEventListener("keyup",t,true);document.addEventListener("click",t,true);BML.Debug("[grab input]")}function A(){document.removeEventListener("keydown",t);document.removeEventListener("keyup",t);document.removeEventListener("click",t);BML.Debug("[release input]")}function d(I,H){f[H]=I}function E(I,H){z[c[H]]=I}function y(H){h.push(H)}function q(H){if(b&&(b==H)){return}var I=false;if(!D){I=D=true}if(b&&(b!=H)){b.unsetFocusStyle();g.push({type:"blur",target:b})}H.setFocusStyle();document.currentEvent={type:"focus",target:H};document.currentFocus=b=H;g.push(document.currentEvent);if(I){i();D=false}}function x(H){if(!fousedElement||(b!=H)){return}var I=false;if(!D){I=D=true}b=null;H.unsetFocusStyle();document.currentEvent={type:"blur",target:H};document.currentFocus=b=null;g.push(document.currentEvent);if(I){i();D=false}}function j(H){return(!BML.Util.isUndefined(v[H]))}function i(){var K=document.currentFocus;var H=document.currentEvent;while(1){var I=g.shift();if(!I){break}var J=I.target;switch(I.type){case ("focus"):if(J.onFocus){document.currentFocus=I.target;document.currentEvent=I;J.onFocus()}break;case ("blur"):if(J.onBlur){document.currentFocus=I.target;document.currentEvent=I;J.onBlur()}break;case ("click"):if(J.onClick){document.currentFocus=I.target;document.currentEvent=I;J.onClick()}break;default:break}}document.currentFocus=K;document.currentEvent=H}function t(K){var I=K.type.toLowerCase();var J=K.keyCode;if(((w==I)&&(n==J))||(I=="click")){return}if((w==I)||((w=="keydown")&&(n!=J))){return}w=I;n=J;J=F[J];if(!j(J)){return}D=true;var L=z[J];switch(I){case ("keydown"):if(J==p.DBUTTON){BML.Bevent.execEvent("DataButtonPressed")}else{if(L&&(BML.Util.getStyle(L,"visibility")=="visible")){if(b&&b.onKeydown){document.currentFocus=b;document.currentEvent={type:"keydown",target:b,keyCode:J};b.onKeydown()}L.focus();i();if(L.onKeyup){document.currentEvent={type:"keyup",target:L,keyCode:J};document.currentFocus=L;L.onKeyup();i()}L.setActiveStyle();if(L.onKeydown){document.currentEvent={type:"keydown",target:L,keyCode:p.ENTER};document.currentFocus=L;L.onKeydown();i()}if(b){document.currentEvent={type:"click",target:b,keyCode:p.ENTER};document.currentFocus=b;g.push(document.currentEvent)}}else{if(b&&b.onKeydown){document.currentEvent={type:"keydown",target:b,keyCode:J};document.currentFocus=b;b.onKeydown();i()}if(b){if(J==p.ENTER){b.setActiveStyle();if(b.onClick){document.currentFocus=b;document.currentEvent={type:"click",target:b,keyCode:J};b.onClick()}}else{if((1<=J)&&(J<=4)){var H=f[b._navigation[o[J].toLowerCase()]];if(H){H.focus()}}}}}}break;case ("keyup"):if(J==p.DBUTTON){}else{if(L&&(BML.Util.getStyle(L,"visibility")=="visible")){if(b){if(b.onKeyup){document.currentFocus=b;document.currentEvent={type:"keyup",target:b,keyCode:p.ENTER};b.onKeyup()}b.unsetActiveStyle();b.setFocusStyle()}}else{if(b){if(b.onKeyup){document.currentFocus=b;document.currentEvent={type:"keyup",target:b,keyCode:J};b.onKeyup()}if(J==p.ENTER){b.unsetActiveStyle();b.setFocusStyle()}}}}break;default:break}i();D=false}BML.Util.each.call(u,function(I){try{I.prototype.focus=function(){BML.Navigation.focus(this)};I.prototype.blur=function(){BML.Navigation.blur(this)}}catch(H){BML.Debug.error(H)}});BML.Util.each.call(s,function(I){try{I.prototype.__defineGetter__("_navigation",function(){if(!this._navigationObj){this._navigationObj={index:-1,up:-1,down:-1,left:-1,right:-1}}return(this._navigationObj)})}catch(H){BML.Debug.error(H)}});C(BML.CSS.bmlStyle.usedKeyList);return({initialize:a,setUsedKeyList:C,grabInput:m,releaseInput:A,entryNavIndex:d,entryAccessKey:E,entryFocusable:y,focus:q,blur:x})})();BML.Builder=(function(){var am={UNKNOWN_NODE:0,ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROC_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};var au={"image/jpeg":"image/jpeg","image/X-arib-png":"image/png","image/X-arib-mng":"video/mng","audio/X-arib-mpeg2-aac":null,"audio/X-arib-aiff":null,"application/X-arib-contentPlayControl":null,"application/X-aribmpeg2-tts":null};var J=[["-//ARIB STD-B24:1999//DTD BML Document for IPTV//JA","http://www.arib.or.jp/B24/DTD/bml_x_x_iptv.dtd","100.0"],["+//ARIB STD-B24:1999//DTD BML Document//JA","http://www.arib.or.jp/B24/DTD/bml_1_1.dtd","3.0"],["-//ARIB//DTD BML Document//JA","http://www.arib.or.jp/B24/DTD/bml_1_0.dtd","1.0"],["+//ARIB STD-B24:1999//DTD BML Document//JA","bml_1_0.dtd","1.0"]];var al=["onload","onunload"];var T=/([^\w])clut[^\w:]*:[^\w]*(url\([^\w]*([^\)\s]+\s*)\));?/m;var ak=/([^\w])used-key-list[^\w:]*:\s*([^;\}]+)\s*;?/m;var I=/([^\w])resolution[^\w:]*:[^;\}]*;?/mg;var j=/([^\w])display-aspect-ratio[^\w:]*:\s*([^;\}]+)\s*;?/mg;var ad=/([^\w])(?:margin|padding)[^\w:]*:[^;\}]*;?/mg;var O=/([^\w])grayscale-color-index[^\w:]*:[^;\}]*;?/mg;var u=/color-index[^\w:]*:\s*(\d+)(?:\s+(?:\d+))?[^;\}]*;?/m;var t=/([^\w]font-family[^\w:]*:)\s*([^;\}]+)\s*;?/m;var an=/nav-(\w+)[^:]*:[^\d]*(\d+)[^;\}]*;?/m;var ab=/[^\w](\w+)?:focus[^\w]*\{([^\}]+)\}/m;var ap=/[^\w](\w+)?:active[^\w]*\{([^\}]+)\}/m;var N=true;var af=true;var v={};var G={};var X=[];X.count=0;function p(aw,av){if(BML.Util.isIE){aw.style.cssText=av}else{aw.setAttribute("style",av)}}function M(av,ax){ax=ax||document;var aw=ax.getElementsByTagName(av);return((aw.length>0)?aw[0]:null)}function z(av){if(!av){return("")}av=av.replace(/\.data([^\w])/g,".dataInterface$1");BML.Util.each.call(al,function(ay){var aw=new RegExp("[^w]functions+"+ay+"[^w]","m");if(!aw.test(av)){return}var ax="";var az=new RegExp("([^w]"+ay+")([^w])","m");while(1){if(!az.test(av)){break}ax+=RegExp.leftContext+RegExp.$1+"_mod"+RegExp.$2;av=RegExp.rightContext}av=ax+av;v[ay]=ay+"_mod";BML.Debug.warning('[rename function :"'+ay+'"->"'+ay+'_mod"]')});return(av)}function ah(av){return(av.replace(/^\s*([^\s\(]+)\([^\)]*\)\s*;/,"$1"))}function i(ax){var aw="";while(1){if(!u.test(ax)){break}var av=BML.Clut.getRGB(RegExp.$1)||{code:"000000",opacity:1};aw+=RegExp.leftContext+(((av.code==="000000")&&(av.opacity===0))?"":"color:#"+av.code+";opacity:"+av.opacity)+";";ax=RegExp.rightContext}return(aw+ax)}function P(ax){if(!ax){return({})}var aw={},av=BML.Util.camelize;var ay=/([\w-]+)[^:]*:([^;]+)/;while(1){if(!ay.test(ax)){break}ax=RegExp.rightContext;aw[av(RegExp.$1)]=RegExp.$2}return(aw)}function Z(ax,aD){ax=ax.replace(O,"$1");ax=ax.replace(ad,"$1");var ay="";if(!aD||(aD.nodeName.toLowerCase()=="body")){if(T.test(ax)){ax=RegExp.leftContext+RegExp.$1+RegExp.rightContext;var aE=RegExp.$2,aA=RegExp.$3;BML.Clut.load(aA,aE);BML.Debug.info("[CLUT:"+aE+"] -> BML.Clut.load("+aA+")")}if(ak.test(ax)){ax=RegExp.leftContext+RegExp.$1+RegExp.rightContext;var aC=RegExp.$2;BML.Navigation.setUsedKeyList(aC);BML.Debug.info("[UsedKeyList:"+aC+"]")}if(j.test(ax)){ax=RegExp.leftContext+RegExp.$1+RegExp.rightContext;BML.CSS.setAspectRatio(RegExp.$2)}ax=ax.replace(I,"$1");ay="";var aB;while(1){if(!ab.test(ax)){break}ay+=RegExp.leftContext;ax=RegExp.rightContext;aB=(RegExp.$1||"all").toLowerCase();if(aB=="*"){aB="all"}BML.CSS.setFocusStyle(aB,P(RegExp.$2))}ax=ay+ax;ay="";while(1){if(!ap.test(ax)){break}ay+=RegExp.leftContext;ax=RegExp.rightContext;aB=(RegExp.$1||"all").toLowerCase();if(aB=="*"){aB="all"}BML.CSS.setActiveStyle(aB,P(RegExp.$2))}ax=ay+ax}if(aD){ay="";var aw={},az=BML.Util.camelize;while(1){if(!an.test(ax)){break}aw[(RegExp.$1).toLowerCase()]=Number(RegExp.$2);ay+=RegExp.leftContext;ax=RegExp.rightContext}ax=ay+ax;BML.Util.extend(aD._navigation,aw);if(aw.index>=0){BML.Navigation.entryNavIndex(aD,aw.index)}}if(t.test(ax)){ax=RegExp.leftContext+RegExp.$1;var av=RegExp.rightContext;ay=[];BML.Util.each.call((RegExp.$2).split("s*,s*"),function(aG){if(/^\'([^\']+)\'$/.test(aG)){aG=RegExp.$1}else{if(/^\"([^\']+)\"$/.test(aG)){aG=RegExp.$1}}var aF=BML.config.usableFontMap[aG];ay.push(aF?aF:aG)});ax=ax+"'"+ay.join("','")+"';"+av}ax=i(ax);return(ax)}function F(ay,aw){aw=aw||BML.uri;ay=BML.Util.combinePath(ay,aw);var av=X.length;X[av]="// not loaded:"+ay+"\n";X.count++;var ax=new BML.Ajax(ay,{overrideMimeType:"application/javascript; charset=EUC-JP",method:"GET",onSuccess:function(az){X[av]="//"+ay+"\n"+z(az.responseText);X.count--;if((X.count<=0)&&BML.Builder.complete){BML.Builder.finish()}},onFailure:function(az){BML.Debug.error("[JavaScript : load failed("+ay+"): "+az.statusCode+":"+az.statusText+"]")}})}function d(ax,aw){for(var av in aw){ax.setAttribute(av,aw[av])}return(ax)}function ar(ax,aw){var av;av=aw.getAttribute("id");if(av){ax.setAttribute("id",av)}av=aw.getAttribute("class");if(av){ax.setAttribute("class",av)}return(ax)}function U(aw,av){aw.setAttribute("xml:lang","ja");return(aw)}function g(ax,aw){var av=aw.getAttribute("style");if(!av){return(ax)}p(ax,Z(av,ax));return(ax)}function A(aw,av){aw.setAttribute("charset","EUC-JP");aw.setAttribute("type","text/javascript");if(av){aw.setAttribute("src",av)}return(aw)}function s(az,ay){var ax=ay.getAttribute("onclick");var aw=ay.getAttribute("onkeydown");var av=ay.getAttribute("onkeyup");if(ax){az.onClick=function(){az.onClick=window[ah(ax)];az.onClick()}}if(aw){az.onKeydown=function(){az.onKeydown=window[ah(aw)];az.onKeydown()}}if(av){az.onKeyup=function(){az.onKeyup=window[ah(av)];az.onKeyup()}}if(ax||aw||av){BML.Navigation.entryFocusable(az)}return(az)}function ai(az,ay){var aw=ay.getAttribute("accesskey");var av=ay.getAttribute("onfocus");var ax=ay.getAttribute("onblur");if(aw){BML.Navigation.entryAccessKey(az,aw)}if(av){az.onFocus=ah(av)}if(ax){az.onBlur=ah(ax)}return(az)}function r(av){if(BML.Util.isOpera){return(true)}if(String(av.xmlEncoding).toUpperCase()!="EUC-JP"){throw ("[InvalidXmlEncoding] : "+av.xmlEncoding)}if(av.xmlVersion!="1.0"){throw ("[InvalidXmlVersion] : "+av.Version)}return(true)}function ao(av){if(String(av.name).toLowerCase()!="bml"){throw ("[InvalidDocTypeName] : "+av.name)}BML.Util.each.call(J,function(aw){if((av.publicId==aw[0])&&(av.systemId==aw[1])){BML.version=aw[2];BML.Util.$break}});if(!BML.version){throw ('[InvalidDocTypeID] : publicID : "'+av.publicId+'" / systemID : "'+av.systemId+'"')}return(true)}function aa(aw){if(String(aw.target).toLowerCase()!="bml"){throw ("InvalidPITarget] : target:["+aw.target+"]")}var ax=/bml-version=\"([\d\.]+)\"/;var av=ax.exec(aw.nodeValue);if(!av||(av[1]!=BML.version)){throw ("[InvalidPINodeValue] : "+aw.nodeValue)}return(true)}function R(av){return(true)}function S(ax,av){var ay=M("body",av);if(!ay){ay=document.appendChild(document.createElement("body"))}ar(ay,ax);U(ay,ax);g(ay,ax);var aw;aw=ax.getAttribute("onload");if(aw){aw=ah(aw);G.onload=v[aw]||aw}aw=ax.getAttribute("onunload");if(aw){aw=ah(aw);G.onunload=v[aw]||aw;ay.setAttribute("onunload","eval(BML.Builder.onunload();")}return(ay)}function w(aw,av){var ax=M("head",av)||av.appendChild(document.createElement("head"));U(ax,aw);return(ax)}function ag(aw,av){var ax=M("title",av)||av.appendChild(document.createElement("title"));U(ax,aw);return(ax)}function D(aw,av){var ax=av.appendChild(document.createElement("div"));ar(ax,aw);U(ax,aw);g(ax,aw);s(ax,aw);ai(ax,aw);return(ax)}function Q(aw,av){var ax=av.appendChild(document.createElement("br"));ar(ax,aw);g(ax,aw);return(ax)}function E(aw,av){var ax=av.appendChild(document.createElement("p"));ar(ax,aw);U(ax,aw);g(ax,aw);s(ax,aw);ai(ax,aw);return(ax)}function c(aw,av){var ax=av.appendChild(document.createElement("span"));ar(ax,aw);U(ax,aw);g(ax,aw);s(ax,aw);ai(ax,aw);return(ax)}function m(ax,aw){var ay=aw.appendChild(document.createElement("a"));ar(ay,ax);U(ay,ax);g(ay,ax);s(ay,ax);ai(ay,ax);ay.setAttribute("charset","EUC-JP");var av=ax.getAttribute("href");if(av){ay.setAttribute("href",av)}return(ay)}function C(ax,aw){var ay=aw.appendChild(document.createElement("input"));ar(ay,ax);U(ay,ax);g(ay,ax);s(ay,ax);ai(ay,ax);var av;av=ax.getAttribute("disabled");ay.setAttribute("disabled",av);av=ax.getAttribute("maxLength");ay.setAttribute("maxLength",av);av=ax.getAttribute("readOnly");ay.setAttribute("readOnly",av);av=ax.getAttribute("type");ay.setAttribute("type",av);av=ax.getAttribute("value");ay.setAttribute("value",av);return(ay)}function x(ax,aw){var ay=aw.appendChild(document.createElement("object"));ar(ay,ax);U(ay,ax);g(ay,ax);s(ay,ax);ai(ay,ax);var av;av=au[ax.getAttribute("type")];if(av){ay.setAttribute("type",av)}av=ax.getAttribute("data");if(av){ay.dataInterface=av}return(ay)}function y(aw,av){return(av)}function L(ax,av){if(N){BML.Util.each.call(BML.config.prefixScriptIncPath,function(az){F(az,BML.loaderUri)});N=false}var ay=null;var aw=ax.getAttribute("src");if(aw){F(aw,BML.uri)}else{if(af){BML.Util.each.call(BML.config.suffixScriptIncPath,function(az){F(az,BML.loaderUri)});af=false}ay=A(document.createElement("script"));av.appendChild(ay)}return(ay)}function o(aw,av){var ax=av.appendChild(document.createElement("style"));U(ax,aw);d(ax,{type:"text/css",media:"all"});return(ax)}function aj(ay,aw){var az=document.createElement("style");U(az,ay);d(az,{type:"text/css",media:"all"});var av=BML.Util.combinePath(ay.getAttribute("href"),BML.uri);var ax=new BML.Ajax(av,{overrideMimeType:"text/css; charset=EUC-JP",asynchronous:false,method:"GET"});if(ax.response.statusCode!=200){throw ("[FileNotFound] :"+av)}az.appendChild(document.createTextNode("/*"+av+"*/\n"+Z(ax.response.responseText)));aw.appendChild(az);az=aw;return(az)}function ac(aw,av){var ax=M("html",av)||av.appendChild(document.createElement("html"));U(ax,aw);d(ax,{xmlns:"http://www.w3.org/1999/xhtml",lang:"ja"});return(ax)}function V(aw,av){return(av)}function Y(aw,av){var ax={};BML.Util.each.call(["id","time_mode","message_id","language_tag","type","time_value","message_group_id","module_ref","onoccur","object_id","message_version","subscribe","es_ref"],function(ay){ax[ay]=aw.getAttribute(ay)});BML.Bevent.entry(ax);return(av)}function H(ax,av){var aw=document.createTextNode(ax.nodeValue);av.appendChild(aw);return(aw)}function aq(ax,av){var aw=(BML.Util.supportSpecificHTMLElement)?document.createCDATASection(ax.nodeValue):document.createTextNode(ax.nodeValue);av.appendChild(aw);return(aw)}function f(ay,aw){var av=ay.nodeValue;var ax=(BML.Util.supportSpecificHTMLElement)?document.createCDATASection(Z(av)):document.createTextNode(Z(av));aw.appendChild(ax);return(ax)}function ae(aw,av){X[X.length]=z(aw.nodeValue);return(av)}function a(aA,ax){if(!aA){return([0,0])}var av=BML.Util.getStyle;var az=av(aA,"fontSize")||"";var ay=0;while(1){if(ax=="p"){ay=av(aA,"width")||0;break}aA=aA.parentNode;if(aA===null){break}ax=aA.nodeName.toLowerCase()}var aw=BML.Util.isUndefined;return([!az?24:parseInt(az,10),!ay?960:parseInt(ay,10)])}function n(ay,ax,az){var aw=(!ay||!ay.parentNode)?ax.lastChild:ay.previousSibling;if(!aw){if(az=="p"){return(0)}while(1){aw=ax.previousSibling;if(aw){break}ax=ax.parentNode;if(!ax||(ax.nodeName.toLowerCase()=="p")){break}}}if(!aw){return(0)}var av=aw._curXPos;return(isNaN(av)?0:av)}function at(aC,ay){var aD=((ay.previousSibling||{}).nodeName||"").toLowerCase();var aw=((ay.nextSibling||{}).nodeName||"").toLowerCase();var az=(/^[\s\r\n]/.test(aC)&&((aD=="span")||(aD=="a")))?" ":"";var aB=(/[\s\r\n]$/.test(aC)&&((aw=="span")||(aw=="a")||(aw=="br")))?" ":"";aC=aC.replace(/^\s+/,"");aC=aC.replace(/\s+$/,"");aC=aC.replace(/[\r\n]/mg," ");var ax="";while(1){if(!(/([^\s])\s+([^\s])/.test(aC))){break}var aA=RegExp.$1;var av=RegExp.$2;aC=RegExp.rightContext;ax+=RegExp.leftContext+aA+(((aA._charCodeAt_(aA.length-1)<=255)||(av._charCodeAt_(0)<=255))?" ":"")+av}return(az+ax+aC+aB)}function B(aE,ax,aG,az){var aC=a(aG,az);var aI=aC[0];var av=aC[1];var aF=n(ax,aG,az);var aw="",aB=Math.floor(aI/2);for(var aA=0,ay=aE.length;aA<ay;aA++){var aD=aE.charAt(aA);if(aD=="\n"){aw+=aD;aF=0}else{var aH=(aE._charCodeAt_(aA)<=255)?aB:aI;aF+=aH;if(aF>av){aw+="\n"+aD;aF=aH}else{aw+=aD}}}return([aw,aF])}function W(aC,ax,aw,aE,ay,aB){var aA=aC||"";aA=aB?aA.replace(/\r\n?/g,"\n"):at(aA,aw);var az=B(aA,ax,aE,ay);var aD=az[1];aA=az[0];if(!aw.nextSibling){var av=aE;while(1){av._curXPos=aD;if(av.nextSibling){break}av=av.parentNode;if(!av||av.nodeName.toLowerCase()=="p"){break}}}ax._curXPos=aD;ax._orgValue=aC;ax.nodeValue=aA}function q(ax,av,aw){var ay=document.createTextNode("");ay._cdata_section=false;av.appendChild(ay);W(ax.nodeValue,ay,ax,av,aw,false);return(ay)}function K(ax,av,aw){var ay=(BML.Util.supportSpecificHTMLElement)?document.createCDATASection(""):document.createTextNode("");ay._cdata_section=true;av.appendChild(ay);W(ax.nodeValue,ay,ax,av,aw,true);return(ay)}var h=BML.Util.isSafari?[[Text],[HTMLElement]]:!BML.Util.supportSpecificHTMLElement?[[Text,CDATASection],[HTMLElement]]:[[Text,CDATASection],[HTMLSpanElement,HTMLParagraphElement,HTMLAnchorElement]];BML.Util.each.call(h[0],function(aw){try{aw.prototype.__defineGetter__("dataInterface",function(){return(this._orgValue)});aw.prototype.__defineSetter__("dataInterface",function(aB){if(aB==this._orgValue){return}var ay=this.parentNode;var aA=ay.nodeName.toLowerCase();W(aB,this,this,ay,aA,this._cdata_section);var ax=this;while(1){var az=ax.nextSibling;while(1){if(!az){break}az.layout(ay,aA);az=az.nextSibling}if(aA=="p"){break}ax=ay;ay=ax.parentNode;if(!ay){break}aA=ay.nodeName.toLowerCase()}});aw.prototype.layout=function(ax,ay){W(this._orgValue||"",this,this,ax,ay,this._cdata_section||false)}}catch(av){BML.Debug.error(av)}});BML.Util.each.call(h[1],function(aw){try{aw.prototype.layout=function(aA,aB){var ay=this.nodeName.toLowerCase();var aC=this.childNodes;for(var az=0,ax=aC.length;az<ax;az++){aC[az].layout(this,ay)}}}catch(av){BML.Debug.error(av)}});HTMLObjectElement.prototype.__defineGetter__("dataInterface",function(){return(this._orgData)});HTMLObjectElement.prototype.__defineSetter__("dataInterface",function(av){this._orgData=av;if(!this.getAttribute("type")){return}this.data=BML.Util.combinePath(av,BML.uri)});if(!BML.Util.isSafari){HTMLBRElement.prototype.layout=function(){}}function b(aD,av,az){if(!aD){return}var aB=aD.nodeType,ax;switch(aB){case (am.DOCUMENT_NODE):r(aD);break;case (am.DOCUMENT_TYPE_NODE):ao(aD);break;case (am.PROC_INSTRUCTION_NODE):aa(aD);break;case (am.COMMENT_NODE):R(aD);break;case (am.ELEMENT_NODE):var aC=aD.nodeName.toLowerCase();switch(aC){case ("body"):av=S(aD,av);break;case ("head"):av=w(aD,av);break;case ("title"):av=ag(aD,av);break;case ("div"):av=D(aD,av);break;case ("br"):av=Q(aD,av);break;case ("p"):av=E(aD,av);break;case ("span"):av=c(aD,av);break;case ("a"):av=m(aD,av);break;case ("input"):av=C(aD,av);break;case ("object"):av=x(aD,av);break;case ("meta"):av=y(aD,av);break;case ("script"):av=L(aD,av);break;case ("style"):av=o(aD,av);break;case ("link"):av=aj(aD,av);break;case ("bml"):av=ac(aD,av);break;case ("bevent"):av=V(aD,av);break;case ("beitem"):av=Y(aD,av);break;default:throw ((/^\[/.test(e)?e:'[UnexpectedElementNodeFound] : "'+aC+'"(parent:"'+av.nodeName+'"'))}break;case (am.TEXT_NODE):switch(az){case ("title"):av=H(aD,av,az);break;case ("p"):av=q(aD,av,az);break;case ("span"):av=q(aD,av,az);break;case ("a"):av=q(aD,av,az);break;default:break}break;case (am.CDATA_SECTION_NODE):switch(az){case ("title"):av=aq(aD,av,az);break;case ("p"):av=K(aD,av,az);break;case ("span"):av=K(aD,av,az);break;case ("a"):av=K(aD,av,az);break;case ("script"):av=ae(aD,av,az);break;case ("style"):av=f(aD,av,az);break;default:break}break;default:throw ('[UnexpectedNodeFound] : "'+aD.nodeName+'"(parent:"'+av.nodeName+'")')}var aw=aD.childNodes;for(var aA=0,ay=aw.length;aA<ay;aA++){b(aw[aA],av,av.nodeName.toLowerCase())}}return({complete:false,build:function(av){var aw=new BML.Ajax(av,{overrideMimeType:"text/xml; charset=EUC-JP",asynchronous:true,method:"GET",onSuccess:function(ay){var aA=(new Date).getTime();BML.Debug.info("[xhtml build start]");try{b(ay.responseXML,document,document.nodeName.toLowerCase());if(BML.Util.isSafari){var ax=M("body",document);ax.parentNode.appendChild(ax.parentNode.removeChild(ax))}BML.Debug.info("[xhtml build done :"+((new Date).getTime()-aA)+"[ms]]");if(X.count<=0){BML.Builder.finish()}BML.Builder.complete=true}catch(az){BML.Debug.error(az)}},onFailure:function(ax){BML.Debug.error("[BML.Builder.build : load failed("+av+"): "+ax.statusCode+":"+ax.statusText+"]")}})},finish:function(){var aw;if(X.length>0){aw=A(document.createElement("script"));aw.appendChild(document.createTextNode(X.join("")));var av=M("head",document);av.appendChild(aw)}BML.Navigation.initialize();aw=A(document.createElement("script"));aw.appendChild(document.createTextNode("BML.Builder.onload();"));M("body",document).appendChild(aw)},onload:function(){document.currentEvent={type:"load",target:document.getElementsByTagName("body")[0]};if(window[G.onload]){try{window[G.onload]()}catch(av){BML.Debug.error(av)}}BML.Debug.info("[BML onload done: "+((new Date).getTime()-BML.Debug.getLoadStartTime())+"[ms]]")},onunload:function(){document.currentEvent={type:"unload",target:document.getElementsByTagName("body")[0]};if(window[G.onunload]){try{window[G.onunload]()}catch(av){BML.Debug.error(av)}}}})})();
/*@cc_on @if(1) (@_jscript)
  document.write('IE¤ÏÌ¤ÂÐ±þ¤Ç¤¹');
@else @*/
window.addEventListener("load",function(){BML.Debug.initialize();var a;a=BML.Util.parseURI(location.href);BML.loaderUri=a;BML.Debug.info("[html url]:"+a.host+a.path+a.file);a=BML.Util.parseURI(a.query);BML.uri=a;BML.Debug.info("[bml url]:"+a.full);BML.Navigation.grabInput();BML.Builder.build(a.full)},false);
/*@end @*/
