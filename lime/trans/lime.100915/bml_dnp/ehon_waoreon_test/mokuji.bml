<?xml version="1.0" encoding="EUC-JP" ?>
<!DOCTYPE bml PUBLIC "-//ARIB STD-B24:1999//DTD BML Document for IPTV//JA" "http://www.arib.or.jp/B24/DTD/bml_x_x_iptv.dtd">
<?bml bml-version="100.0" ?>
<bml><head><title/>
<style><![CDATA[
/* STYLE */
	.waku{border-width:3px; border-style:solid; width:141px; height:74px; border-top-color-index:1; border-right-color-index:1; border-left-color-index:1; border-bottom-color-index:1; visibility:hidden;}
]]></style>
<script><![CDATA[
var FAry= new Array();
	FAry[0]=Array("01","02","03","04","05");
	FAry[1]=Array("06","07","08","09","10");
	FAry[2]=Array("11","13","14","15","16");
	FAry[3]=Array("17","19","20","","");
var lpos=0;
var tpos=0;

var KNo;
var Key=1;
var FID="";
var MSI;
function load(){
	FID=FAry[tpos][lpos];
	FC();
	Key=0;
//	STT(1);
//	MSI=bro.setInterval("MLoop();",35000,0);
}
function MLoop(){
	STT(0);
//DEBUG("¥ë¡¼¥×");
	STT(1);
}
function FC(){
	FID=FAry[tpos][lpos];
	VH("f"+FID,1);
}
function BL(){
	VH("f"+FID,0);
}
function DW(){
	if(FID=="") return;
	VH(FID+"d",1);
	VH(FID+"n",0);
}
function keyDown(){
	var i;
	if(Key) return;
	KNo=document.currentEvent.keyCode;
	if(1<=KNo && KNo<=4){
		STT(0);
		bro.playRomSound("romsound://9");
		LKS(1);
		while(1){
			if(KNo==1){
				if(tpos==0) tpos=3;
				else tpos--;
			}
			else if(KNo==2){
				if(tpos==3) tpos=0;
				else tpos++;
			}
			else if(KNo==3){
				if(lpos==0) lpos=4;
				else lpos--;
			}
			else if(KNo==4){
				if(lpos==4) lpos=0;
				else lpos++;
			}
			if(FAry[tpos][lpos]!="") break;
		}
		BL();
		LKS(0);
	}
	if(KNo==18){
		STT(0);
		bro.playRomSound("romsound://7");
	}
	if(KNo==24){
		STT(0);
		bro.playRomSound("romsound://7");
		LKS(1);
		BL();
		FID="yl1";
		DW();
		LKS(0);
	}
	if(KNo==19){
		STT(0);
		bro.playRomSound("romsound://7");
		LKS(1);
		BL();
		LKS(0);
	}
	Key=1;
}
function keyUp(){
	if(Key==0) return;
	if(1<=KNo && KNo<=4){
		LKS(1);
		FC();
		LKS(0);
	}
	if(KNo==18){
		UW(1,"EHON");
		UW(2,NUM(FAry[tpos][lpos]) );
		bro.launchDocument("startup.bml","cut");
	}
	if(KNo==24){
		bro.launchDocument("startup.bml","cut");
	}
	if(KNo==19){
		bro.launchDocument("startup.bml","cut");
	}
	Key=0;
}
function CHG_PG(){
	
}
var doc=document;
var bro=browser;
function GET(id){ return doc.getElementById(id); }
function STY(id){ return GET(id).normalStyle; }
function CD(id,dat){ GET(id).firstChild.data=dat.toString(); }
function VH(id,v){ STY(id).visibility=(v==1)?"visible":"hidden"; }
function LF(id,l){ STY(id).left=l+"px"; }
function WD(id,w){ STY(id).width=w+"px"; }
function UR(n){ return bro.Ureg[n]; }
function UW(n,dat){ bro.Ureg[n]=dat.toString(); }
function STT(p){
//		GET("bgm").streamStatus=(p==1)?"play":"stop";
	var dat=(p==1)?"play":"stop";
	if(GET("bgm").streamStatus==dat) return;
	if(p==1) browser.setInterval("STP();",1000,1);
	else{
		GET("bgm").streamStatus=(p==1)?"play":"stop";
//DEBUG2(GET("bgm").data+"; "+GET("bgm").streamStatus);
	}
}
function STP(){
	GET("bgm").streamStatus="play";
//DEBUG2(GET("bgm").data+"; "+GET("bgm").streamStatus);
}
function DTC(id,dat){ GET(id).data=dat.toString(); }
function NUM(dat){ return parseInt(dat,10); }
function LKS(l){
	if(l) bro.lockScreen();
	else bro.unlockScreen();
}
function DEBUG(dat){ CD("debug",dat); }
function DEBUG2(dat){ CD("debug2",dat); }
function DEBUG3(dat){ CD("debug3",dat); }
]]></script>
</head>
<body onload="load();" style="clut:url(bg_clt.clt); background-color-index:128; resolution:960x540; display-aspect-ratio:16v9">
<div style="width:960px; height:540px">
	<object style="width:960px; height:540px" data="bg01.jpg" type="image/jpeg"/>
	<!-- TOP -->
	<div id="yl1" style="left:644px; top:469px; width:170px; height:63px">
		<div style="width:170px; height:63px">
			<object id="yl1n" style="width:170px; height:63px" data="bt08_n.jpg" type="image/jpeg"/>
			<object id="yl1d" style="width:170px; height:63px; visibility:hidden;" data="bt08_d.jpg" type="image/jpeg"/>
		</div>
	</div>
</div>
<div id="btn" style="nav-index:0" onkeydown="keyDown();" onkeyup="keyUp();"/>
<div>
	<object id="bgm" data="ehon.aac" type="audio/X-arib-mpeg2-aac" streamstatus="stop"/>
</div>
<!-- 1 -->
<div style="left:86px; top:50px; width:147px; height:80px">
	<object style="width:147px; height:80px" data="00s.jpg" type="image/jpeg"/>
	<div id="f01" class="waku"/>
</div>
<div style="left:246px; top:50px; width:147px; height:80px">
	<object style="width:147px; height:80px" data="01s.jpg" type="image/jpeg"/>
	<div id="f02" class="waku"/>
</div>
<div style="left:406px; top:50px; width:147px; height:80px">
	<object style="width:147px; height:80px" data="02s.jpg" type="image/jpeg"/>
	<div id="f03" class="waku"/>
</div>
<div style="left:566px; top:50px; width:147px; height:80px">
	<object style="width:147px; height:80px" data="03s.jpg" type="image/jpeg"/>
	<div id="f04" class="waku"/>
</div>
<div style="left:726px; top:50px; width:147px; height:80px">
	<object style="width:147px; height:80px" data="04s.jpg" type="image/jpeg"/>
	<div id="f05" class="waku"/>
</div>
<!-- 2 -->
<div style="left:86px; top:150px; width:147px; height:80px">
	<object style="width:147px; height:80px" data="05s.jpg" type="image/jpeg"/>
	<div id="f06" class="waku"/>
</div>
<div style="left:246px; top:150px; width:147px; height:80px">
	<object style="width:147px; height:80px" data="06s.jpg" type="image/jpeg"/>
	<div id="f07" class="waku"/>
</div>
<div style="left:406px; top:150px; width:147px; height:80px">
	<object style="width:147px; height:80px" data="07s.jpg" type="image/jpeg"/>
	<div id="f08" class="waku"/>
</div>
<div style="left:566px; top:150px; width:147px; height:80px">
	<object style="width:147px; height:80px" data="08s.jpg" type="image/jpeg"/>
	<div id="f09" class="waku"/>
</div>
<div style="left:726px; top:150px; width:147px; height:80px">
	<object style="width:147px; height:80px" data="09s.jpg" type="image/jpeg"/>
	<div id="f10" class="waku"/>
</div>
<!-- 3 -->
<div style="left:86px; top:250px; width:147px; height:80px">
	<object style="width:147px; height:80px" data="11s.jpg" type="image/jpeg"/>
	<div id="f11" class="waku"/>
</div>
<div style="left:246px; top:250px; width:147px; height:80px">
	<object style="width:147px; height:80px" data="12s.jpg" type="image/jpeg"/>
	<div id="f13" class="waku"/>
</div>
<div style="left:406px; top:250px; width:147px; height:80px">
	<object style="width:147px; height:80px" data="13s.jpg" type="image/jpeg"/>
	<div id="f14" class="waku"/>
</div>
<div style="left:566px; top:250px; width:147px; height:80px">
	<object style="width:147px; height:80px" data="14s.jpg" type="image/jpeg"/>
	<div id="f15" class="waku"/>
</div>
<div style="left:726px; top:250px; width:147px; height:80px">
	<object style="width:147px; height:80px" data="15s.jpg" type="image/jpeg"/>
	<div id="f16" class="waku"/>
</div>
<!-- 4 -->
<div style="left:86px; top:350px; width:147px; height:80px">
	<object style="width:147px; height:80px" data="17s.jpg" type="image/jpeg"/>
	<div id="f17" class="waku"/>
</div>
<div style="left:246px; top:350px; width:147px; height:80px">
	<object style="width:147px; height:80px" data="18s.jpg" type="image/jpeg"/>
	<div id="f19" class="waku"/>
</div>
<div style="left:406px; top:350px; width:147px; height:80px">
	<object style="width:147px; height:80px" data="20s.jpg" type="image/jpeg"/>
	<div id="f20" class="waku"/>
</div>
<p id="debug" style="width:960px; height:540px;"><![CDATA[]]></p>
<p id="debug2" style="top:30px; width:960px; height:540px;"><![CDATA[]]></p>
<p id="debug3" style="top:60px; width:960px; height:540px;"><![CDATA[]]></p>
</body>
</bml>
